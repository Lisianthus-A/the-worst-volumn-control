import{r as a,j as o,A as $,a as S}from"./index-CP9P8Il6.js";import{d as C}from"./index-G8qFHaVH.js";const L="_wrapper_109j4_1",X="_icon_109j4_16",Y="_bar_109j4_22",F="_handle_109j4_29",y={wrapper:L,icon:X,bar:Y,handle:F},P=1e3,g=22;function k(){const d=C(),h=a.useRef(null),w=a.useRef(null),x=a.useRef(null),n=a.useRef({a:0,runningTime:0,duration:0,start:[0,0],end:[0,0]}),c=a.useRef(0),f=()=>{const t=Math.min(1,(Date.now()-c.current)/P);document.body.style.userSelect="",c.current=0,d?window.removeEventListener("touchend",f):window.removeEventListener("mouseup",f);const e=h.current,r=w.current,i=x.current;if(!e||!r||!i)return;const u=Number(e.style.getPropertyValue("--offsetX").slice(0,-2)),p=Number(e.style.getPropertyValue("--offsetY").slice(0,-2));n.current.runningTime=Date.now(),n.current.start=[u,p],n.current.end=[-6+200*t,-3],n.current.duration=t*300+80,n.current.a=.012-t*.008,e.style.setProperty("--angle","0deg"),r.setAttribute("r","0%"),i.style.opacity="1"},j=t=>{const e=x.current;t.button!==0||!e||(e.style.opacity="0",document.body.style.userSelect="none",c.current=Date.now(),d?window.addEventListener("touchend",f):window.addEventListener("mouseup",f))},R=()=>{j({button:0})};return a.useEffect(()=>{let t=0;const e=()=>{t=requestAnimationFrame(e);const r=h.current,i=w.current;if(!r||!i)return;if(n.current.runningTime!==0){const{a:b,runningTime:A,start:[s,v],end:[l,D],duration:T}=n.current,_=Math.min(1,(Date.now()-A)/T),m=s+_*(l-s),M=(v-D-b*(s*s-l*l))/(s-l),E=v-b*s*s-M*s,N=b*m*m+M*m+E;r.style.setProperty("--offsetX",`${m}px`),r.style.setProperty("--offsetY",`${N}px`),_>=1&&(n.current.runningTime=0,S.setVolume((l+6)/2>>0));return}if(c.current===0)return;const u=Math.min(1,(Date.now()-c.current)/P),p=u*.25*Math.PI;r.style.setProperty("--offsetX",`${-20+Math.cos(p)*g-g}px`),r.style.setProperty("--offsetY",`${-3-Math.sin(p)*g}px`),r.style.setProperty("--angle",`-${u*45}deg`),i.setAttribute("r",`${u*100}%`)};return t=requestAnimationFrame(e),()=>{cancelAnimationFrame(t)}},[]),o.jsxs("div",{className:y.wrapper,ref:h,children:[o.jsx($,{className:y.icon,fill:"url(#radial-grad)",onMouseDown:d?void 0:j,onTouchStart:d?R:void 0,children:o.jsxs("radialGradient",{ref:w,id:"radial-grad",cx:"0%",r:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"#4a95ff"}),o.jsx("stop",{offset:"99.99%",stopColor:"#4a95ff"}),o.jsx("stop",{offset:"100%",stopColor:"currentColor"})]})}),o.jsx("div",{className:y.bar,children:o.jsx("div",{className:y.handle,ref:x})})]})}export{k as default};
